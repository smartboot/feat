---
title: å¼€å§‹ä½¿ç”¨
description: ä¸€æ¬¾ä¼ä¸šçº§ Web æœåŠ¡å¼€å‘æ¡†æ¶
sidebar:
    order: 1
---


import idea_setting from './img/idea_setting.png';
import demo from './img/demo.png';
import lifecycle from './img/lifecycle.svg';
import {Aside, TabItem, Tabs} from "@astrojs/starlight/components";

Feat Cloud æä¾›äº†ä¸€ç§é¢å‘ä¼ä¸šçº§åº”ç”¨å¼€å‘çš„è§£å†³æ–¹æ¡ˆï¼Œå®ƒçš„å®šä½æœ‰ç‚¹åƒ SpringBootã€‚

**è®¾è®¡æ–¹é¢**ï¼šFeat Cloud å°½æœ€å¤§å¯èƒ½ä¿ç•™äº† SpringBoot çš„ä½¿ç”¨ä¹ æƒ¯ï¼Œä»¥æ­¤é™ä½å¼€å‘è€…çš„å­¦ä¹ æˆæœ¬ã€‚

**æŠ€æœ¯æ–¹é¢**ï¼šFeat Cloud åœ¨ç¼–è¯‘æœŸå¯¹ä»£ç è¿›è¡Œé™æ€åˆ†æï¼Œæœ€å¤§åŒ–æå‡æœåŠ¡è¿è¡Œæ€§èƒ½ï¼Œé™ä½èµ„æºæ¶ˆè€—ã€‚

## å‡†å¤‡å·¥ä½œ

### å¼•å…¥ Maven ä¾èµ–
åˆ›å»ºä¸€ä¸ª Maven é¡¹ç›®ï¼Œåœ¨ `pom.xml` æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹ä¾èµ–ï¼š
```xml title=pom.xml
<dependency>
    <groupId>tech.smartboot.feat</groupId>
    <artifactId>feat-cloud-starter</artifactId>
    <version>${feat.version}</version>
</dependency>
```
<Aside>
    **$\{feat.version}**
    éœ€æ ¹æ®å®é™…æƒ…å†µè®¾ç½®ï¼Œå»ºè®®ä½¿ç”¨[æœ€æ–°ç‰ˆæœ¬](https://central.sonatype.com/artifact/tech.smartboot.feat/feat-cloud-starter)ã€‚
</Aside>

### é…ç½® IDEA
è°ƒæ•´ IDEA ç¼–è¯‘é…ç½®ï¼Œä»¥å¯ç”¨ Feat Cloud çš„é™æ€ä¼˜åŒ–åŠŸèƒ½ï¼Œ**å¦åˆ™è¯·æ±‚å°†æ— æ³•æ­£å¸¸è·¯ç”±**ã€‚

è®¾ç½®è·¯å¾„ä¸ºï¼š`Preferences -> Build, Execution, Deployment -> Build Tools -> Maven -> Runner`ï¼Œ
å‹¾é€‰`Delegate IDE build/run actions to Maven` å¹¶ç‚¹å‡» `OK` ä¿å­˜é…ç½®ã€‚

<img src={idea_setting.src} alt="hello world" width="60%" className="shadow"/>

## å¿«é€Ÿå¯åŠ¨
åœ¨ Maven å·¥ç¨‹ä¸­åˆ›å»ºä¸€ä¸ª `FeatCloudDemo.java` æ–‡ä»¶ï¼Œæ·»åŠ ä»¥ä¸‹ä»£ç ï¼š
``` java title=FeatCloudDemo.java
@Controller
public class FeatCloudDemo {
    @RequestMapping("/cloud")
    public String helloWorld() {
        return "hello Feat Cloud";
    }

    public static void main(String[] args) {
        FeatCloud.cloudServer().listen();
    }
}
```
å¯åŠ¨ç¨‹åºï¼Œæ‰“å¼€æµè§ˆå™¨è®¿é—® `http://localhost:8080/cloud`ã€‚
<img src={demo.src} alt="hello world" width="60%" className="shadow"/>


## æ ¸å¿ƒç‰¹æ€§

Feat Cloud æ˜¯åŸºäºæ³¨è§£çš„æ–¹å¼è¿›è¡ŒæœåŠ¡å¼€å‘ï¼Œä¸ä¼ ç»Ÿæ¡†æ¶åœ¨è¿è¡Œæ—¶è§£ææ³¨è§£ä¸åŒï¼Œ**Feat Cloud åœ¨ç¼–è¯‘æ—¶å¯¹ä»£ç è¿›è¡Œé™æ€åˆ†æ**ï¼Œå®ç°äº†ä»¥ä¸‹æ ¸å¿ƒä¼˜åŠ¿ï¼š

### ğŸš€ é›¶åå°„æ¶æ„
- è¿ç”¨ APTï¼ˆAnnotation Processing Toolï¼‰æŠ€æœ¯
- ç¼–è¯‘æœŸç”Ÿæˆä¼˜åŒ–ä»£ç ï¼Œæ¶ˆé™¤è¿è¡Œæ—¶åå°„å¼€é”€
- ç»“åˆ ServiceLoader å®ç°é›¶é…ç½®æœåŠ¡åŠ è½½

### âš¡ æè‡´æ€§èƒ½
- å¯åŠ¨æ—¶é—´ < 100ms
- æä½å†…å­˜å ç”¨
- é«˜å¹¶å‘å¤„ç†èƒ½åŠ›

### ğŸ”§ å¼€å‘å‹å¥½
- ä¿æŒ SpringBoot ä½¿ç”¨ä¹ æƒ¯
- æ”¯æŒ AOT å’Œ AOT VM åŒæ¨¡å¼
- å®Œå–„çš„ä¾èµ–æ³¨å…¥å’Œç”Ÿå‘½å‘¨æœŸç®¡ç†

<Aside type="tip">
**æ·±å…¥äº†è§£æŠ€æœ¯åŸç†**ï¼šæƒ³è¦äº†è§£ Feat Cloud çš„ AOT ç¼–è¯‘æœºåˆ¶ã€ä»£ç ç”Ÿæˆè¿‡ç¨‹ç­‰æŠ€æœ¯ç»†èŠ‚ï¼Œè¯·å‚è€ƒ [AOT ç¼–è¯‘å’Œ AOT è™šæ‹Ÿæœº](/feat/cloud/aot/) ç« èŠ‚ã€‚
</Aside>

## å¿«é€Ÿä¸Šæ‰‹æŒ‡å—

### è¿è¡Œæ¨¡å¼é€‰æ‹©

Feat Cloud æä¾›ä¸¤ç§è¿è¡Œæ¨¡å¼ï¼š

- **AOT æ¨¡å¼**ï¼šé€‚ç”¨äºç”Ÿäº§ç¯å¢ƒï¼Œæè‡´æ€§èƒ½ï¼Œé›¶åå°„
- **AOT VM æ¨¡å¼**ï¼šé€‚ç”¨äºå¼€å‘ç¯å¢ƒï¼Œä¿æŒçƒ­é‡è½½èƒ½åŠ›

é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¡†æ¶ä¼šè‡ªåŠ¨é€‰æ‹©åˆé€‚çš„æ¨¡å¼ã€‚å¼€å‘é˜¶æ®µå»ºè®®ä½¿ç”¨ AOT VM æ¨¡å¼ä»¥æé«˜å¼€å‘æ•ˆç‡ã€‚

## Bean ç”Ÿå‘½å‘¨æœŸç®¡ç†

Feat Cloud ä¸­å¯¹äºæ‰˜ç®¡çš„å®ä¾‹çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†åˆ†ä¸ºï¼š**åˆ›å»º** -> **å±æ€§å¡«å……** -> **åˆå§‹åŒ–** -> **ä½¿ç”¨** -> **é”€æ¯** å‡ ä¸ªæ ¸å¿ƒé˜¶æ®µã€‚

<img src={lifecycle.src} alt="Feat Cloud ç”Ÿå‘½å‘¨æœŸ" width="100%" className="shadow"/>

### æ ¸å¿ƒæ³¨è§£

#### @Bean / @Controller
ç”¨äºå®šä¹‰éœ€è¦æ‰˜ç®¡çš„å®ä¾‹å¯¹è±¡ã€‚

```java
@Bean
public class UserService {
    // ä¸šåŠ¡é€»è¾‘
}

@Controller
public class UserController {
    @RequestMapping("/users")
    public String getUsers() {
        return "users";
    }
}
```

#### @Autowired
ç”¨äºä¾èµ–æ³¨å…¥ï¼Œæ”¯æŒå¾ªç¯ä¾èµ–ã€‚

```java
@Bean
public class UserController {
    @Autowired
    private UserService userService;  // è‡ªåŠ¨æ³¨å…¥
    
    // setter æ–¹æ³•ï¼ˆå¯é€‰ï¼‰
    public void setUserService(UserService userService) {
        this.userService = userService;
    }
}
```

#### @PostConstruct / @PreDestroy
ç”¨äºç”Ÿå‘½å‘¨æœŸç®¡ç†ã€‚

```java
@Bean
public class DatabaseService {
    @PostConstruct
    public void init() {
        // åˆå§‹åŒ–æ•°æ®åº“è¿æ¥
    }
    
    @PreDestroy
    public void destroy() {
        // é‡Šæ”¾èµ„æº
    }
}
```

<Aside type="note">
**æ³¨æ„**ï¼šæ‰€æœ‰ Bean é»˜è®¤éƒ½æ˜¯å•ä¾‹çš„ï¼Œåœ¨æ•´ä¸ªåº”ç”¨ä¸­åªæœ‰ä¸€ä¸ªå®ä¾‹ã€‚
</Aside>