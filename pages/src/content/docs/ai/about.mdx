---
title: Feat AI 概览
description: Feat AI - Java AI 开发框架，提供统一的模型接入、Agent 智能体、向量存储等能力
sidebar:
    order: 1
---

import { Aside, Tabs, TabItem } from '@astrojs/starlight/components';
import CheckAuthorize from '../../../components/CheckAuthorize.astro'

<CheckAuthorize/>

**Feat AI** 是一个面向 Java 开发者的 AI 应用开发框架，提供统一、简洁的 API 来集成各种 AI 能力。无论是简单的聊天对话、复杂的智能 Agent，还是企业级的 RAG 应用，Feat AI 都能让你用几行代码轻松实现。

## 为什么选择 Feat AI？

| 特性 | 描述 |
|------|------|
| **流式 API 设计** | 链式配置风格，代码简洁直观 |
| **统一模型接入** | 一套代码切换不同 AI 供应商（DeepSeek、OpenAI、Ollama 等） |
| **纯 Java 实现** | 无额外依赖，原生支持 Java 生态 |
| **响应式编程** | 基于 `CompletableFuture`，完美支持异步和高并发 |
| **模块化设计** | 按需使用 Chat、Embedding、VectorStore、Agent 等模块 |

## 快速开始

### 1. 添加依赖

```xml
<dependency>
    <groupId>tech.smartboot.feat</groupId>
    <artifactId>feat-ai</artifactId>
    <version>1.4.3</version>
</dependency>
```

### 2. 第一个 AI 程序

<Tabs>
<TabItem label="DeepSeek">

```java
import tech.smartboot.feat.ai.FeatAI;
import tech.smartboot.feat.ai.chat.ChatModel;

public class HelloAI {
    public static void main(String[] args) {
        // 创建聊天模型
        ChatModel model = FeatAI.chatModel(opts -> opts
            .baseUrl("https://api.deepseek.com/v1")
            .apiKey(System.getenv("DEEPSEEK_API_KEY"))
            .model("deepseek-chat")
        );
        
        // 发送消息并接收流式响应
        model.chatStream("你好，请介绍一下 Feat AI", response -> {
            System.out.print(response.getContent());
        });
    }
}
```

</TabItem>
<TabItem label="Ollama (本地)">

```java
import tech.smartboot.feat.ai.FeatAI;
import tech.smartboot.feat.ai.chat.ChatModel;

public class LocalAI {
    public static void main(String[] args) {
        // 连接本地 Ollama
        ChatModel model = FeatAI.chatModel(opts -> opts
            .baseUrl("http://localhost:11434/v1")
            .model("qwen2.5:7b")
        );
        
        model.chatStream("解释什么是 RAG", response -> {
            System.out.println(response.getContent());
        });
    }
}
```

</TabItem>
</Tabs>

## 核心模块

### ChatModel - 聊天模型

统一的聊天模型接口，支持流式和非流式对话：

```java
// 创建模型实例
ChatModel chatModel = FeatAI.chatModel(opts -> opts
    .model(ChatModelVendor.GiteeAI.Qwen2_5_72B_Instruct)
);

// 多轮对话 - 自动维护上下文
chatModel.chat("你好", response1 -> {
    // 第一次响应
    chatModel.chat("刚才说了什么？", response2 -> {
        // 第二次响应，模型记得上下文
    });
});
```

**关键特性：**
- 自动对话历史管理
- 工具调用 (Function Calling)
- JSON 结构化输出
- 流式响应支持

### Embedding - 文本嵌入

将文本转换为向量表示，用于语义搜索和 RAG：

```java
import tech.smartboot.feat.ai.FeatAI;
import tech.smartboot.feat.ai.embedding.EmbeddingModel;

// 创建嵌入模型
EmbeddingModel embedding = FeatAI.embedding(opts -> opts
    .baseUrl("https://api.siliconflow.cn/v1")
    .apiKey(System.getenv("API_KEY"))
    .model("BAAI/bge-m3")
);

// 生成文本向量
List<Float> vector = embedding.embed("这是一段需要嵌入的文本");
```

### VectorStore - 向量存储

支持多种向量数据库，实现语义检索：

```java
import tech.smartboot.feat.ai.vector.VectorStore;
import tech.smartboot.feat.ai.vector.Document;

// 创建 Chroma 向量存储
VectorStore store = VectorStore.chroma(opts -> opts
    .baseUrl("http://localhost:8000")
    .collectionName("my-docs")
);

// 添加文档
store.add(new Document("content", "Feat AI 是一个 Java AI 框架"));

// 语义搜索
List<Document> results = store.similaritySearch("什么是 Feat AI");
```

**支持的存储：**
- Chroma - 轻量级本地向量数据库
- Milvus - 企业级分布式向量数据库

### Agent - 智能代理

基于 ReAct 范式的智能 Agent，能够自主规划、使用工具完成复杂任务：

```java
import tech.smartboot.feat.ai.FeatAI;
import tech.smartboot.feat.ai.agent.FeatAgent;
import tech.smartboot.feat.ai.agent.AgentTool;

// 创建 Agent
FeatAgent agent = FeatAI.agent(opts -> opts
    .maxIterations(20)
    .prompt("你是一个专业的客服助手")
    .tool("search", new SearchTool())
    .tool("calculator", new CalculatorTool())
);

// 执行任务 - Agent 自动规划步骤
String result = agent.execute(
    "搜索 Feat 框架的最新版本，并计算 2.5 版本距今多少天了"
).get();
```

### Reranker - 结果重排序

提升 RAG 检索质量的交叉编码器：

```java
import tech.smartboot.feat.ai.FeatAI;
import tech.smartboot.feat.ai.reranker.RerankerModel;

RerankerModel reranker = FeatAI.reranker(opts -> opts
    .baseUrl("https://api.siliconflow.cn/v1")
    .model("BAAI/bge-reranker-v2-m3")
);

// 对搜索结果重排序
List<Document> reranked = reranker.rerank(
    query,
    documents,
    5  // 返回前5个
);
```

## 完整 RAG 示例

结合所有模块构建一个完整的检索增强生成应用：

```java
import tech.smartboot.feat.ai.FeatAI;
import tech.smartboot.feat.ai.chat.ChatModel;
import tech.smartboot.feat.ai.embedding.EmbeddingModel;
import tech.smartboot.feat.ai.reranker.RerankerModel;
import tech.smartboot.feat.ai.vector.VectorStore;
import tech.smartboot.feat.ai.vector.Document;

public class RagApplication {
    
    // 1. 初始化组件
    EmbeddingModel embedding = FeatAI.embedding(opts -> opts
        .model("BAAI/bge-m3")
    );
    
    VectorStore vectorStore = VectorStore.chroma(opts -> opts
        .collectionName("knowledge-base")
    );
    
    RerankerModel reranker = FeatAI.reranker(opts -> opts
        .model("BAAI/bge-reranker-v2-m3")
    );
    
    ChatModel chatModel = FeatAI.chatModel(opts -> opts
        .model(ChatModelVendor.DeepSeek.V3)
    );
    
    // 2. 索引文档
    public void indexDocuments(List<String> texts) {
        List<Document> docs = texts.stream()
            .map(text -> new Document("doc", text))
            .toList();
        vectorStore.add(docs);
    }
    
    // 3. 回答问题
    public void answer(String question) {
        // 检索相关文档
        List<Document> candidates = vectorStore.similaritySearch(
            SearchRequest.builder()
                .query(question)
                .topK(10)
                .build()
        );
        
        // 重排序提升质量
        List<Document> relevant = reranker.rerank(question, candidates, 3);
        
        // 构建增强提示词
        String context = relevant.stream()
            .map(Document::getContent)
            .collect(Collectors.joining("\n\n"));
        
        String prompt = """
            基于以下参考信息回答问题：
            
            参考信息：
            {context}
            
            用户问题：{question}
            
            请只基于参考信息回答，不要编造内容。
            """.replace("{context}", context)
               .replace("{question}", question);
        
        // 生成回答
        chatModel.chatStream(prompt, response -> {
            System.out.print(response.getContent());
        });
    }
}
```

## 核心 API 速查

| 功能 | 入口类 | 示例 |
|------|--------|------|
| 聊天模型 | `FeatAI.chatModel()` | `FeatAI.chatModel(opts -> opts.model("gpt-4"))` |
| 嵌入模型 | `FeatAI.embedding()` | `FeatAI.embedding(opts -> opts.model("bge-m3"))` |
| 向量存储 | `VectorStore.chroma()` | `VectorStore.chroma(opts -> opts.baseUrl(...))` |
| Agent | `FeatAI.agent()` | `FeatAI.agent(opts -> opts.maxIterations(10))` |
| 重排序 | `FeatAI.reranker()` | `FeatAI.reranker(opts -> opts.model(...))` |

